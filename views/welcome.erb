
<body>
  <div class="menu-icon" id="menu-icon" style="position: fixed; top: 20px; left: 20px; z-index: 2001; ">
      <button style="background: none; border: none; padding: 0; cursor: pointer;">
      <img src="/icons/menu.png" alt="Menu" style="width:85px; height:80px; margin-left: 35px; margin-top: 10px;">
      </button>
  </div>
  <div class="sidebar collapsed" id="sidebar">
    <ul class="menu">
      <li><svg fill="#ffcf00" width="53px" height="53px" viewBox="0 0 1024.00 1024.00" xmlns="http://www.w3.org/2000/svg" stroke="#ffcf00" stroke-width="0.01024"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M300.426 627.184h-85.381c-16.968 0-30.72-13.754-30.72-30.72V71.684c0-16.972 13.748-30.72 30.72-30.72h593.92c16.966 0 30.72 13.752 30.72 30.72v524.78c0 16.962-13.758 30.72-30.72 30.72H700.636c-11.311 0-20.48 9.169-20.48 20.48s9.169 20.48 20.48 20.48h108.329c39.583 0 71.68-32.097 71.68-71.68V71.684c0-39.591-32.094-71.68-71.68-71.68h-593.92c-39.594 0-71.68 32.086-71.68 71.68v524.78c0 39.586 32.089 71.68 71.68 71.68h85.381c11.311 0 20.48-9.169 20.48-20.48s-9.169-20.48-20.48-20.48z"></path><path d="M295.58 354.445h432.845c11.311 0 20.48-9.169 20.48-20.48s-9.169-20.48-20.48-20.48H295.58c-11.311 0-20.48 9.169-20.48 20.48s9.169 20.48 20.48 20.48z"></path><path d="M696.814 510.712c-11.311 0-20.48 9.169-20.48 20.48s9.169 20.48 20.48 20.48h31.785c31.693 0 49.84-27.858 37.045-56.848L691.014 325.8c-4.569-10.347-16.66-15.031-27.007-10.463s-15.031 16.66-10.463 27.007l74.341 168.368h-31.07zM370.456 342.344c4.569-10.347-.116-22.439-10.463-27.007s-22.439.116-27.007 10.463l-74.629 169.021c-12.796 28.993 5.351 56.851 37.044 56.851h277.545c11.311 0 20.48-9.169 20.48-20.48s-9.169-20.48-20.48-20.48h-276.83l74.341-168.368z"></path><path d="M548.192 348.003c0 20.325-16.476 36.803-36.803 36.803-20.321 0-36.803-16.482-36.803-36.803 0-11.311-9.169-20.48-20.48-20.48s-20.48 9.169-20.48 20.48c0 42.942 34.82 77.763 77.763 77.763 42.949 0 77.763-34.817 77.763-77.763 0-11.311-9.169-20.48-20.48-20.48s-20.48 9.169-20.48 20.48zm19.477 204.035c11.311 0 20.48-9.169 20.48-20.48s-9.169-20.48-20.48-20.48H300.886c-11.311 0-20.48 9.169-20.48 20.48v106.26a61.445 61.445 0 006.638 27.787l61.112 120.504a40.922 40.922 0 014.431 18.528v197.253c0 11.311 9.169 20.48 20.48 20.48s20.48-9.169 20.48-20.48V804.637a81.856 81.856 0 00-8.865-37.063l-61.108-120.496a20.48 20.48 0 01-2.209-9.261v-85.78h246.303zm40.918 449.853V822.64a51.175 51.175 0 0116.723-37.846l46.466-42.328a81.887 81.887 0 0026.759-60.565V576.542c0-11.311-9.169-20.48-20.48-20.48s-20.48 9.169-20.48 20.48v105.359a40.934 40.934 0 01-13.377 30.28l-46.464 42.327a92.126 92.126 0 00-30.107 68.132v179.251c0 11.311 9.169 20.48 20.48 20.48s20.48-9.169 20.48-20.48z"></path><path d="M595.712 583.928v-78.162c0-16.968 13.754-30.72 30.72-30.72 17.396 0 31.15 13.752 31.15 30.72v98.642c0 11.311 9.169 20.48 20.48 20.48s20.48-9.169 20.48-20.48v-98.642c0-39.591-32.094-71.68-71.68-71.68-40.016 0-72.11 32.089-72.11 71.68v78.162c0 11.311 9.169 20.48 20.48 20.48s20.48-9.169 20.48-20.48z"></path></g></svg></li>
      <li><svg height="44px" width="55px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 489.9 489.9" xml:space="preserve" fill="#ffcf00" stroke="#ffcf00" stroke-width="0.004899"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path style="fill:#ffffffffcf00;" d="M90.3,96.956c-3.8,3.9-3.8,10.2,0.2,14c3.9,3.8,10.2,3.8,14-0.2c35.8-36.7,83.8-57.2,135-57.8 c50-0.6,97.4,18,133.7,52.2l-18.2,0.2c-5.5,0.1-9.8,4.5-9.8,10c0.1,5.4,4.5,9.8,9.9,9.8h0.1l42.2-0.5c5.5-0.1,9.8-4.5,9.8-10 l-0.4-42.1c-0.1-5.4-4.5-9.8-9.9-9.8h-0.1c-5.5,0.1-9.8,4.5-9.8,10l0.2,18.4c-40.1-38-92.6-58.6-147.9-58 C182.7,33.956,129.8,56.556,90.3,96.956z"></path> <path style="fill:#ffffffffcf00;" d="M378.9,379.056c-35.8,36.7-83.8,57.2-135,57.8c-50,0.6-97.4-18-133.7-52.2l18.2-0.2 c5.5-0.1,9.8-4.5,9.8-10c-0.1-5.4-4.5-9.8-9.9-9.8h-0.1l-42.2,0.5c-5.5,0.1-9.8,4.5-9.8,10l0.5,42.2c0.1,5.4,4.5,9.8,9.9,9.8h0.1 c5.5-0.1,9.8-4.5,9.8-10l-0.2-18.4c39.5,37.4,90.9,58,145.4,58c0.8,0,1.7,0,2.5,0c56.5-0.7,109.5-23.3,149-63.7 c3.8-3.9,3.8-10.2-0.2-14C389,375.056,382.8,375.156,378.9,379.056z"></path> <path style="fill:#ffffff;" d="M78.2,240.256c0-3.3-1.7-6.4-4.4-8.2c-1.8-1.2-2.8-3.2-2.8-5.3v-36.1c0-12.5,10.1-22.6,22.6-22.6 h7.8c12.5,0,22.6,10.1,22.6,22.6v36.1c0,2.1-1.1,4.1-2.8,5.3c-2.8,1.8-4.4,4.9-4.4,8.2v34.8c0,4.4,2.5,8.4,6.5,10.3 c4.5,2.2,27.8,14,49.4,31.7c1.7,1.4,2.7,3.6,2.7,5.9v24.7c0,5.5,4.4,9.9,9.9,9.9s9.9-4.4,9.9-9.9v-24.7c0-8.2-3.6-15.9-10-21.2 c-18.9-15.6-39.2-26.9-48.6-31.8v-25.1c4.6-4.8,7.3-11.3,7.3-18.1v-36.1c0-23.4-19-42.4-42.4-42.4h-7.8c-23.4,0-42.4,19-42.4,42.4 v36.1c0,6.8,2.6,13.3,7.3,18.1v25.1c-9.5,4.9-29.7,16.3-48.6,31.8c-6.3,5.2-10,12.9-10,21.2v24.7c0,5.5,4.4,9.9,9.9,9.9 s9.9-4.4,9.9-9.9v-24.7c0-2.3,1-4.4,2.7-5.9c21.5-17.7,44.9-29.5,49.4-31.7c3.9-1.9,6.5-6,6.5-10.3v-34.8H78.2z"></path> <path style="fill:#ffffff;" d="M479.9,301.856c-18.9-15.6-39.2-26.9-48.6-31.8v-25.1c4.6-4.8,7.3-11.3,7.3-18.1v-36.1 c0-23.4-19-42.4-42.4-42.4h-7.8c-23.4,0-42.4,19-42.4,42.4v36.1c0,6.8,2.6,13.3,7.3,18.1v25c-9.5,4.9-29.7,16.3-48.6,31.8 c-6.3,5.2-10,12.9-10,21.2v24.7c0,5.5,4.4,9.9,9.9,9.9s9.9-4.4,9.9-9.9v-24.7c0-2.3,1-4.4,2.7-5.9c21.5-17.7,44.9-29.5,49.4-31.7 c3.9-1.9,6.4-6,6.4-10.3v-34.8c0-3.3-1.7-6.4-4.4-8.2c-1.8-1.2-2.8-3.2-2.8-5.3v-36.1c0-12.5,10.1-22.6,22.6-22.6h7.8 c12.5,0,22.6,10.1,22.6,22.6v36.1c0,2.1-1.1,4.1-2.8,5.3c-2.8,1.8-4.4,4.9-4.4,8.2v34.8c0,4.4,2.5,8.4,6.4,10.3 c4.5,2.2,27.9,14,49.4,31.7c1.7,1.4,2.7,3.6,2.7,5.9v24.7c0,5.5,4.4,9.9,9.9,9.9s9.9-4.4,9.9-9.9v-24.7 C489.8,314.756,486.2,307.056,479.9,301.856z"></path> </g> </g> </g></svg></li>
      <li><img src="/icons/museo.png" style="width:60px; height:60px;" alt="Museo"></li>
      <li><img src="/icons/balance2.png" style="width:60px; height:60px;" alt="Balance"></li>
    </ul>
  </div>


  <main class="main-content">
    <header class="header-welcome">
      <div class="user-info">
        <img src="/icons/avatar.png" style="width:60px; height:60px;" alt="Avatar">
        <h1> Hola <%= user_name %>!</h1>
      </div>
      <img src="icons/logo.png" style="width: 300px; height: 60px; margin-right: -10px" class="logo" alt="BeePay logo">
    </header>

 <section class="balance-card">
  <h2>Saldo disponible:</h2>
  <div style="display: flex; align-items: center;">
    <p class="balance" id="balance-value">$ <span id="balance-amount"><%= balance %></span></p>
    <img src="/icons/eye.png" id="toggle-eye" style="width:32px; height:32px; cursor:pointer; margin-left:20px;" alt="Ver/Ocultar saldo">
  </div>
</section>
<script>
  const eye = document.getElementById('toggle-eye');
  const amount = document.getElementById('balance-amount');
  let visible = true;
  eye.addEventListener('click', function() {
    if (visible) {
      amount.textContent = '••••';
      eye.src = '/icons/eye-closed.png';
      visible = false;
    } else {
      amount.textContent = '<%= balance %>';
      eye.src = '/icons/eye.png';
      visible = true;
    }
  });
</script>
   

  <section class="history">
  <h3>Últimos Pagos</h3>
  <% if transactions.any? %>
    <ul class="transaction-list">
      <% transactions.each do |t| %>
        <li>
          <strong>Destino:</strong> <%= t.target_account.alias %> |
          <strong>Monto:</strong> $<%= t.amount %> |
          <strong>Fecha:</strong> <%= t.created_at.strftime("%d/%m/%Y %H:%M") %>
        </li>
      <% end %>
    </ul>
  <% else %>
    <p>No hay transferencias recientes.</p>
  <% end %>
</section>

    <footer class="footer-icons">
      <button><img src="/icons/casa.png" style="width: 44px; height: 44px;"></button>
      <button><img src="/icons/notificacion.png" style="width: 58px; height: 58px;"></button>
      <button><img src="/icons/card.png" style="width: 48px; height: 54px;"></button>
    </footer>
  </main>

  <script>
  const menuIconBtn = document.querySelector('#menu-icon button');
  const sidebar = document.getElementById('sidebar');
  const mainContent = document.querySelector('.main-content');

  menuIconBtn.addEventListener('click', function() {
  sidebar.classList.toggle('collapsed');
  if (sidebar.classList.contains('collapsed')) {
    mainContent.style.marginLeft = '0';
  } else {
    mainContent.style.marginLeft = '130px';
  }
  });

</script>
</body>
</html>